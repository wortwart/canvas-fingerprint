<!DOCTYPE html>
<html>
 <head>
  <title>Canvas-Fingerprint</title>
  <meta charset="utf-8"/>
  <style type="text/css">
  	canvas {border: 1px solid black;}
  	pre {white-space:	pre-wrap; width: 80%; word-wrap: break-word;}
  </style>
 </head>
 <body>
	<pre id="output">Output</pre>
 	<pre id="hash">Hash</pre>
	<script type="text/javascript">
		String.prototype.hashCode = function() {
		  var hash = 0, i, chr, len;
		  if (this.length == 0) return hash;
		  for (i = 0, len = this.length; i < len; i++) {
		    chr   = this.charCodeAt(i);
		    hash  = ((hash << 5) - hash) + chr;
		    hash |= 0;
		  }
		  return hash;
		};

		var canvas = document.createElement("canvas");
		var context = canvas.getContext("2d");
		//context.font = "18pt Arial";
		context.fillText("Kennen wir uns? \ud83d\ude03", 20, 20);
		var dataURL = canvas.toDataURL("image/png").substr("data:image/png;base64,".length);
		document.getElementById("output").innerHTML = dataURL;
		document.getElementById("hash").innerHTML = "Hash: " + dataURL.hashCode();
		document.body.appendChild(canvas);

	</script>
 </body>
</html>
